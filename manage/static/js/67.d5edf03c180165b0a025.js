webpackJsonp([67],{1008:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:16,offset:2}},[a("el-form",{ref:"editdata",staticClass:"form food_form",attrs:{model:t.editdata,"label-width":"110px",rules:t.rules}},[a("el-form-item",{staticClass:"icon-el",attrs:{label:"推广图"}},[a("div",{staticClass:"updatas"},[a("div",{staticClass:"icon-plus-container"}),t._v(" "),""!==t.editdata.image&&void 0!==t.editdata.image?a("div",{staticClass:"img-wrap"},[""!==t.editdata.image&&void 0!==t.editdata.image?a("img",{staticStyle:{width:"146px",height:"146px"},attrs:{src:"https://imapp-image.oss-cn-hangzhou.aliyuncs.com/"+t.editdata.image}}):t._e()]):t._e(),t._v(" "),""===t.editdata.image?a("el-button",{staticClass:"btnone",attrs:{type:"primary"}},[a("span",[t._v("上传")]),t._v(" "),a("input",{staticClass:"upload",staticStyle:{opacity:"0",width:"70px",height:"40px","z-index":"222",position:"absolute",top:"0px",left:"0px"},attrs:{type:"file"},on:{change:t.mapping}})]):t._e(),t._v(" "),""!==t.editdata.image?a("el-button",{staticClass:"btnone",attrs:{type:"primary",disabled:t.switchs},on:{click:function(e){t.editdata.image=""}}},[t._v("删除")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("div",{staticClass:"radios"},[a("el-form-item",{attrs:{label:"竞猜玩法",prop:"play"}},[a("el-radio-group",{on:{change:t.setType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio",{attrs:{label:"1",disabled:t.typeType1}},[t._v("猜涨跌")]),t._v(" "),a("el-radio",{attrs:{label:"2",disabled:t.typeType2}},[t._v("哈希猜大小")]),t._v(" "),a("el-radio",{attrs:{label:"3",disabled:t.typeType3}},[t._v("哈希彩票")])],1)],1)],1),t._v(" "),a("div",{staticClass:"titles"},[a("el-form-item",{attrs:{label:"竞猜标题",prop:"title"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.switchs},model:{value:t.editdata.title,callback:function(e){t.$set(t.editdata,"title",e)},expression:"editdata.title"}}),t._v(" "),a("span",{staticStyle:{"font-size":"13px",color:"#ccc"}},[t._v("暂时不做使用")])],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"竞猜介绍",prop:"intro"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{disabled:t.switchs},model:{value:t.editdata.intro,callback:function(e){t.$set(t.editdata,"intro",e)},expression:"editdata.intro"}}),t._v(" "),a("span",{staticStyle:{"font-size":"13px",color:"#ccc"}},[t._v("暂时不做使用")])],1)],1),t._v(" "),a("div",{staticStyle:{overflow:"hidden"}},[a("el-form-item",{attrs:{label:"竞猜周期"}},[a("div",{staticStyle:{float:"left"}},[a("el-radio-group",{attrs:{size:"small",disabled:t.switchs},on:{change:t.setRound},model:{value:t.round,callback:function(e){t.round=e},expression:"round"}},[a("div",{staticStyle:{margin:"20px 0"}},[a("el-radio",{attrs:{label:"1"}},[t._v("单次")])],1),t._v(" "),a("div",{staticStyle:{margin:"20px 0"}},[a("el-radio",{attrs:{label:"2"}},[t._v("每日")])],1),t._v(" "),a("div",{staticStyle:{margin:"20px 0"}},[a("el-radio",{attrs:{label:"3"}},[t._v("每周")])],1)])],1),t._v(" "),"1"===t.round?a("div",{staticStyle:{float:"left",margin:"10px 0 0 20px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",disabled:t.switchs},on:{change:t.setOncetime},model:{value:t.choice,callback:function(e){t.choice=e},expression:"choice"}})],1):t._e(),t._v(" "),"3"===t.round?a("div",{staticStyle:{float:"left",margin:"80px 0 0 20px"}},[a("el-checkbox-group",{attrs:{size:"mini",disabled:t.switchs},on:{change:t.setCheck},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"星期一"}}),t._v(" "),a("el-checkbox",{attrs:{label:"星期二"}}),t._v(" "),a("el-checkbox",{attrs:{label:"星期三"}}),t._v(" "),a("el-checkbox",{attrs:{label:"星期四"}}),t._v(" "),a("el-checkbox",{attrs:{label:"星期五"}}),t._v(" "),a("el-checkbox",{attrs:{label:"星期六"}}),t._v(" "),a("el-checkbox",{attrs:{label:"星期日"}})],1)],1):t._e()])],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"开奖时间"}},[a("el-time-select",{attrs:{"picker-options":{start:"00:00",step:"01:00",end:"23:00"},disabled:t.switchs,placeholder:"选择时间"},on:{change:t.setEtime},model:{value:t.etime,callback:function(e){t.etime=e},expression:"etime"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"每注金额"}},[a("el-select",{attrs:{disabled:t.switchs},on:{change:t.setAmount},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}},t._l(t.amounts,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"玩法规则",prop:"rules"}},[a("el-input",{attrs:{type:"textarea",rows:"5",disabled:t.switchs},model:{value:t.editdata.rules,callback:function(e){t.$set(t.editdata,"rules",e)},expression:"editdata.rules"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"20px","padding-bottom":"20px"}},[t._e(),t._v(" "),t.$route.query.dataId?t._e():a("el-button",{on:{click:t.goGuess}},[t._v("返回")]),t._v(" "),t.switchs?a("el-button",{on:{click:t.closeGame}},[t._v("关闭")]):t._e(),t._v(" "),t.$route.query.dataId&&!t.switchs?a("el-button",{on:{click:t.openGame}},[t._v("开启")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.switchs},on:{click:function(e){t.submit(t.editdata)}}},[t._v("保存")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("你确定要"+t._s(t.tips)+"吗?")]),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.implement}},[t._v("确 定")])],1)])],1)],1)],1)},staticRenderFns:[]}},276:function(t,e,a){a(888);var i=a(58)(a(726),a(1008),null,null);t.exports=i.exports},726:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(110),s=a.n(i),o=a(109),r=a.n(o);e.default={data:function(){return{dialogVisible:!1,stateType:"",tips:"",choice:"",uploadImageUrl:"",type:"",round:"1",checkList:[],arr:[],textarea:"",etime:"18:00",amount:"50",amounts:[{value:"50",label:"50"},{value:"100",label:"100"},{value:"200",label:"200"},{value:"300",label:"300"}],rules:{title:[{required:!0,message:"请输入竞猜标题",trigger:"blur"}],intro:[{required:!0,message:"请输入竞猜介绍",trigger:"blur"}],rules:[{required:!0,message:"请输入快讯内容",trigger:"blur"}]},imgData:{accept:"image/gif, image/jpeg, image/png, image/jpg,image/webp"},editdata:{title:"",image:"",type:"",intro:"",round:"",etime:"18:00",amount:"50",rules:"",state:""},typeType1:!1,typeType2:!1,typeType3:!1,switchs:!1,currentPage:"",nowPageSize:"",str:[],arrDate:[],arrType:[],aass:""}},created:function(){var t=this;if(this.$route.query.dataId)this.currentPage=this.$route.query.currentPage,this.nowPageSize=this.$route.query.nowPageSize,this.getDataguess();else{var e=this.$route.query.row;0!=e.length&&e.forEach(function(e){"1"==e?t.typeType1=!0:"2"==e?t.typeType2=!0:"3"==e&&(t.typeType3=!0)}),console.log(this.$route.query.dataId)}},methods:{setType:function(){this.editdata.type=this.type},setRound:function(){this.choice="",this.checkList=[],this.arr=[],"2"==this.round&&(this.editdata.round="0123456")},setOncetime:function(){this.editdata.round=this.choice},setCheck:function(){var t=this.checkList.length;this.arr=[];for(var e=0;e<t;e++)"星期一"==this.checkList[e]?this.arr.push("1"):"星期二"==this.checkList[e]?this.arr.push("2"):"星期三"==this.checkList[e]?this.arr.push("3"):"星期四"==this.checkList[e]?this.arr.push("4"):"星期五"==this.checkList[e]?this.arr.push("5"):"星期六"==this.checkList[e]?this.arr.push("6"):"星期日"==this.checkList[e]&&this.arr.push("0");this.editdata.round=this.arr.join("")},setEtime:function(){this.editdata.etime=this.etime},setAmount:function(){this.editdata.amount=this.amount},deleteGuess:function(){this.dialogVisible=!0,this.tips="删除当前玩法",this.stateType=-1},closeGame:function(){this.dialogVisible=!0,this.tips="关闭当前玩法",this.stateType=0},openGame:function(){this.dialogVisible=!0,this.tips="开启当前玩法",this.stateType=1},implement:function(){var t=this;this.dialogVisible=!1,-1==this.stateType?this.$route.query.dataId&&this.$ajax({method:"POST",url:BaseUrl+"guess/deleteStyle",params:{id:this.$route.query.dataId},headers:{token:sessionStorage.getItem("token")}}).then(function(e){t.$router.push({path:"/guessing"})}):0==this.stateType?(this.editdata.state=0,this.setData()):1==this.stateType&&(this.editdata.state=1,this.setData())},submit:function(){var t=this;this.$refs.editdata.validate(function(){var e=r()(s.a.mark(function e(a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||""==t.editdata.image||""==t.editdata.type||""==t.editdata.round){e.next=4;break}t.setData(),e.next=6;break;case 4:return""==t.editdata.image&&a?t.$alert("请上传推广图",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"请重试！"})}}):""==t.editdata.type&&a?t.$alert("请选择玩法",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"请重试！"})}}):""==t.editdata.round&&a?t.$alert("请选择竞猜周期",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"请重试！"})}}):t.$alert("请填写完整",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"请重试！"})}}),e.abrupt("return",!1);case 6:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},setData:function(){var t=this,e="guess/newStyle";this.$route.query.dataId&&(e="guess/updateStyle"),this.$ajax({method:"POST",url:BaseUrl+e,data:this.editdata,headers:{token:sessionStorage.getItem("token")}}).then(function(e){t.$router.push({path:"/guessing"})}),console.log(this.editdata)},goGuess:function(){this.$router.push({path:"/guessing"})},getDataguess:function(){var t=this;this.$ajax({method:"POST",url:BaseUrl+"guess/findStyle",data:{page:"1",size:"100"},headers:{token:sessionStorage.getItem("token")}}).then(function(e){e.data.data.data.forEach(function(e){void 0!=e.round&&e.round.length>7?e.round=e.round:void 0!=e.round&&7==e.round.length?e.round="每日":void 0!=e.round&&e.round.length<7&&e.round.length>0&&(t.dateCheng(e.round),e.round=t.arrDate.join(",")),void 0!=e.type&&t.str.push(e.type+""),e.id===t.$route.query.dataId&&(t.editdata=e)}),console.log(t.editdata.guessState),void 0!=t.editdata.guessState?t.switchs=!0:void 0==t.editdata.guessState&&(t.switchs=!1,console.log(t.switchs,1)),t.setGuessdata(),1==t.type?(t.typeType2=!0,t.typeType3=!0):2==t.type?(t.typeType1=!0,t.typeType3=!0):3==t.type&&(t.typeType1=!0,t.typeType2=!0),console.log(t.editdata)})},setGuessdata:function(){this.type=this.editdata.type+"",this.amount=this.editdata.amount+"",this.etime=this.editdata.etime,new RegExp(",").test(this.editdata.round)||3==this.editdata.round.length?(this.round="3",this.checkList=this.editdata.round.split(",")):2==this.editdata.round.length?(this.round="2",this.editdata.round="0123456"):(this.round="1",this.choice=this.editdata.round)},dateCheng:function(t){this.arrDate=[];for(var e=t.split(""),a=e.length,i=0;i<a;i++)"1"==e[i]?this.arrDate.push("星期一"):"2"==e[i]?this.arrDate.push("星期二"):"3"==e[i]?this.arrDate.push("星期三"):"4"==e[i]?this.arrDate.push("星期四"):"5"==e[i]?this.arrDate.push("星期五"):"6"==e[i]?this.arrDate.push("星期六"):"0"==e[i]&&this.arrDate.push("星期日")},mapping:function(t){var e=this,a=null;this.$ajax.get(BaseUrl+"alioss/getpolicy",{params:{fileName:t.target.files[0].name,type:"image",callBackType:"app_image"},headers:{token:sessionStorage.getItem("token")}}).then(function(i){if(200==i.data.flag)a=i.data.data,e.UploadUrl=i.data.data.host;else{if(201!=i.data.flag)return void alert("权限获取失败！");e.$alert(i.data.msg+"，请重新登录","提示",{confirmButtonText:"确定",callback:function(t){e.$router.push("/")}})}var s=t.target.files[0],o=s.type;s.size;if(-1==e.imgData.accept.indexOf(o))return alert("请选择我们支持的图片格式！"),!1;var r=new FormData;r.append("key",a.key),r.append("OSSAccessKeyId",a.OSSAccessKeyId),r.append("expire",a.expire),r.append("policy",a.policy),r.append("Signature",a.Signature),r.append("callback",a.callback),r.append("file",s),r.append("x:user",sessionStorage.getItem("userName")),r.append("x:filename",a.fileName),r.append("x:type",a.type),e.$ajax({method:"POST",url:e.UploadUrl,data:r}).then(function(t){e.editdata.image=t.data.data})})}}}},783:function(t,e,a){e=t.exports=a(241)(!1),e.push([t.i,'.allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}a,article,aside,b,body,button,dd,div,dl,dt,figcaption,figure,footer,h1,h2,h3,h4,h5,h6,header,i,input,li,nav,p,section,select,span,textarea,ul{padding:0;margin:0;list-style:none;font-style:normal;text-decoration:none;border:none;font-family:Microsoft Yahei,sans-serif;-webkit-tap-highlight-color:transparent;-webkit-font-smoothing:antialiased}a:focus,article:focus,aside:focus,b:focus,body:focus,button:focus,dd:focus,div:focus,dl:focus,dt:focus,figcaption:focus,figure:focus,footer:focus,h1:focus,h2:focus,h3:focus,h4:focus,h5:focus,h6:focus,header:focus,i:focus,input:focus,li:focus,nav:focus,p:focus,section:focus,select:focus,span:focus,textarea:focus,ul:focus{outline:none}::-webkit-scrollbar{width:0;height:0;background-color:#f5f5f5}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 1px transparent;border-radius:10px;background-color:#f5f5f5}::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}input[type=button],input[type=reset],input[type=search],input[type=submit],textarea{-webkit-appearance:none}.fillcontain,body,html{height:100%;width:100%}.clear:after{content:"";display:block;clear:both}.clear{zoom:1}.back_img{background-repeat:no-repeat;background-size:100% 100%}.margin{margin:0 auto}.left{float:left}.right{float:right}.hide{display:none}.show{display:block}.ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.form{min-width:400px;margin-bottom:30px}.form:hover{box-shadow:0 0 8px 0 rgba(232,237,250,.6),0 2px 4px 0 rgba(232,237,250,.5);border-radius:6px;transition:all .4s}.img-wrap{width:148px;height:148px}.icon-el{height:147px;position:relative}.icon-el .el-form-item__content{display:flex;position:absolute}.icon-el div.el-form-item__content{border:0!important}.icon-el div{background-color:#fbfdff;border:1px dashed #c0ccda;border-radius:6px;box-sizing:border-box;width:148px;height:148px;cursor:pointer;line-height:146px;vertical-align:top;position:absolute}.updatas{position:relative}.btnone{position:absolute;left:170px;top:105px;width:70px;height:40px}.line{margin-top:20px;width:100%;border-top:1px solid #000}.playRules{width:100px;text-align:right;margin:10px 0 20px}.radios{margin:10px 0}.ruleMethod{padding:10px;width:60%}',""])},888:function(t,e,a){var i=a(783);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(242)("4e85f1f4",i,!0)}});